---
title: "git 直前のコミットを取り消す"
emoji: "⏪"
type: "tech"
topics: ["Git"]
published: true
---

:::message alert
既に `push` 済みのコミットに対して行うと、`git push --force-with-lease` が必要になる。
:::

### コミット取り消し、変更はステージに残す

```sh
git reset --soft HEAD^
```

### コミットとステージ取り消し、変更はワーキングツリーに残す

```sh
git reset --mixed HEAD^
# --mixed はデフォルトなので git reset HEAD^ でも同じ
```

### コミットも変更も完全に破棄する（取り消し不可）

```sh
git reset --hard HEAD^
```

### コミットメッセージだけを変更する

```sh
git commit --amend -m "新しいコミットメッセージ"
```
